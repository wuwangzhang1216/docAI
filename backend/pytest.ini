[pytest]
# Pytest configuration for docAI backend tests

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Async mode
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Markers
markers =
    asyncio: mark a test as an asyncio test
    slow: mark a test as slow running
    integration: mark a test as integration test
    performance: mark a test as performance/benchmark test
    load: mark a test as load test
    chat: tests related to AI chat functionality
    clinical: tests related to clinical features
    messaging: tests related to messaging functionality
    auth: tests related to authentication
    critical: critical path tests

# Console output
addopts =
    -v
    --tb=short
    --strict-markers

# Coverage settings (when using pytest-cov)
# Run with: pytest --cov=app --cov-report=html

# Ignore load tests by default (run separately with locust)
norecursedirs = tests/load

# Filter warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::pytest.PytestUnraisableExceptionWarning
